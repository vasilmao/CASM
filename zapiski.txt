мэнглиннг - система кодирования функций в c++ (чтобы разные аргументы <=> разные функции)

extern "C" спасает на g++
но если назвать по манглингу в асме, то все соберется

теперь в асме:
.globl _CallAsm - только глобальные могут соединяться с другими файлами (в глобальное пространство имен)
.extern CallFromAsm - что-то вроде портотипа, правильные внешние имена
.extern _printf

если забыть offset - будет считать что msg - число и запушит
nasm - по умолчанию берет адрес, а если нужен не адрес то можно [] написать

сборка: gcc 3-C-asm.cpp 3-C-asm.s

compiler driver - gcc - определяет по расширению компилятор

nasm не вызовешь через gcc, поэтому насмом надо отдельно объектник получить, а в gcc надо этот объектник запихнуть

в 64 битных везде stdcall стандарта system v - первые 6 аргументов будет через регистры, как скомпенсировать? - пишем
обертку для запуска принтфа - промежуточная функция - где мы попаем адрес возврата, пушим регистры и пушим адрес
